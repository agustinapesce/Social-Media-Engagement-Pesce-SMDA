dAll.Dicts %>% filter(twid_first == 662322465411047424) %>% select(crossTalk, ideo_sd, ideo_mean, count)
dTest1 <- dAll.Encoded %>%                                            select(count) %>% mutate_all(funs(as.numeric))
dTest2 <- dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(count)   %>% mutate_all(funs(as.numeric))
all.equal(dTest1, dTest2)
dAll.Encoded %>%                                            select(count, twid_first) %>%
anti_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(count, twid_first)
)
dAll.Encoded %>% filter(twid_first == 666289501002530816) %$% text
dAll.Encoded %>% filter(twid_first == 662322465411047424) %$% text
dAll.Dicts %>% filter(twid_first == 662322465411047424) %$% text
dAll.Encoded
dTest1 <- dAll.Encoded %>%                                            select(followers) %>% mutate_all(funs(as.numeric))
dTest2 <- dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(followers)   %>% mutate_all(funs(as.numeric))
all.equal(dTest1, dTest2)
dAll.Encoded %>%                                            select(followers) %>% slice(107013)
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(followers) %>% slice(107013)
dAll.Encoded %>%                                            select(foll1=followers) %>%
bind_cols(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(foll2=followers)
) %>%
filter(foll1 != foll2)
dAll.Dicts
dAll.Encoded %>%                                            select(count, twid_first) %>%
anti_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(count, twid_first)
) %>%
mutate_all(funs(round(.,3)))
dAll.Encoded %>%                                            select(foll1=followers) %>%
bind_cols(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(foll2=followers)
) %>%
mutate_all(funs(round(.,3))) %>%
filter(foll1 != foll2)
dAll.Encoded %>%                                            select(count, twid_first) %>% mutate_all(funs(round(.,3))) %>%
anti_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(count, twid_first) %>%  mutate_all(funs(round(.,3)))
)
dAll.Encoded %>%                                            select(followers, twid_first) %>% mutate_all(funs(round(.,3))) %>%
anti_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(followers, twid_first) %>%  mutate_all(funs(round(.,3)))
)
dAll.Encoded %>%                                            select(followers, twid_first) %>% mutate_all(funs(round(.,3)))
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(followers, twid_first) %>%  mutate_all(funs(round(.,3)))
dAll.Encoded %>%                                            select(shared, twid_first) %>% mutate_all(funs(round(.,3))) %>%
anti_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(shared, twid_first) %>%  mutate_all(funs(round(.,3)))
)
dAll.Encoded %>%                                            select(followers, twid_first) %>% mutate_all(funs(round(.,3))) %>%
anti_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(followers, twid_first) %>%  mutate_all(funs(round(.,3)))
)
anti_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(ideology, twid_first) %>%  mutate_all(funs(round(.,3)))
)
dAll.Encoded %>%                                            select(ideology, twid_first) %>% mutate_all(funs(round(.,3))) %>%
anti_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(ideology, twid_first) %>%  mutate_all(funs(round(.,3)))
)
dAll.Encoded %>%                                            select(ideo_mean, twid_first) %>% mutate_all(funs(round(.,3))) %>%
anti_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(ideo_mean, twid_first) %>%  mutate_all(funs(round(.,3)))
)
dAll.Encoded %>%                                            select(shared, twid_first) %>% mutate_all(funs(round(.,3))) %>%
anti_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(shared, twid_first) %>%  mutate_all(funs(round(.,3)))
)
dAll.Encoded %>% filter(twid_first == 663099547606872064) %$% text
dAll.Dicts %>% filter(twid_first == 663099547606872064) %$% text
dAll.Encoded %>% filter(twid_first == 666277327630938112) %$% text
dAll.Dicts %>% filter(twid_first == 666277327630938112) %$% text
dAll.Encoded %>% filter(twid_first == 661584525575651328) %$% text
dAll.Dicts %>% filter(twid_first == 661584525575651328) %$% text
dAll.Encoded
dAll.Encoded %>%                                            select(ACount_unq, twid_first) %>% mutate_all(funs(round(.,3))) %>%
anti_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(ACount_unq, twid_first) %>%  mutate_all(funs(round(.,3)))
)
dAll.Encoded %>%                                            select(MCount_unq, twid_first) %>% mutate_all(funs(round(.,3))) %>%
anti_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(MCount_unq, twid_first) %>%  mutate_all(funs(round(.,3)))
)
dAll.Encoded %>%                                            select(A1=ACount_unq, twid_first) %>% mutate_all(funs(round(.,3))) %>%
full_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(A2=ACount_unq, twid_first) %>%  mutate_all(funs(round(.,3)))
)
dAll.Encoded %>%                                            select(A1=ACount_unq, twid_first) %>% mutate_all(funs(round(.,3))) %>%
full_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(A2=ACount_unq, twid_first) %>%  mutate_all(funs(round(.,3)))
) %>%
summarize(cor=cor(A1,A2))
dAll.Encoded %>%                                            select(A1=ACount_unq, twid_first) %>% mutate_all(funs(round(.,3))) %>%
full_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(A2=ACount_unq, twid_first) %>%  mutate_all(funs(round(.,3)))
) %>%
summarize(cor=cor(A1,A2))
dAll.Encoded %>%                                            select(A1=ACount_unq, twid_first) %>% mutate_all(funs(round(.,3))) %>%
full_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(A2=ACount_unq, twid_first) %>%  mutate_all(funs(round(.,3)))
) %>%
summarize(cor=cor(A1,A2))
dAll.Encoded %>%                                            select(A1=ACount_unq, twid_first) %>% mutate_all(funs(round(.,3))) %>%
full_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(A2=ACount_unq, twid_first) %>%  mutate_all(funs(round(.,3)))
) %>%
# summarize(cor=cor(A1,A2))
filter(A1 != A2)
dAll.Encoded %>%                                            select(A1=ACount_unq, twid_first) %>% mutate_all(funs(round(.,3))) %>%
full_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(A2=ACount_unq, twid_first) %>%  mutate_all(funs(round(.,3)))
) %>%
# summarize(cor=cor(A1,A2))
filter(A1 != A2) %>%
filter(!A1 < A2)
dAll.Encoded %>%                                            select(A1=ACount_unq, twid_first) %>% mutate_all(funs(round(.,3))) %>%
full_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(A2=ACount_unq, twid_first) %>%  mutate_all(funs(round(.,3)))
) %>%
# summarize(cor=cor(A1,A2))
filter(A1 != A2) %>%
filter(A1 > A2)
dAll.Encoded %>%                                            select(A1=ACount_unq, twid_first) %>% mutate_all(funs(round(.,3))) %>%
full_join(
dAll.Dicts %>% filter(twid_first != 668462054672498688) %>% select(A2=ACount_unq, twid_first) %>%  mutate_all(funs(round(.,3)))
) %>%
# summarize(cor=cor(A1,A2))
filter(A1 != A2) %>%
filter(A1 < A2)
dAll.Dicts %>% filter(twid_first == 674789838030135296) %$% text
dAll.Dicts %>% filter(twid_first == 674789838030135296) %$% text
dAll.Encoded %>% filter(twid_first == 674789838030135296) %$% text
dAll.Dicts %>% filter(twid_first == 674789838030135296) %$% text
dTest1 <- read.csv(dAll.trim,file = str_c(dictDir,"moral_emo/allSets_trim.csv"), encoding = "utf-8")
dTest1 <- read.csv(file = str_c(dictDir,"moral_emo/allSets_trim.csv"), encoding = "utf-8")
dTest1 %>% filter(twid_first == 674789838030135296) %$% text
dAll.Encoded %>% filter(twid_first == 674789838030135296) %>% select(ACount_unq, MCount_unq, shared)
dAll.Dicts %>% filter(twid_first == 674789838030135296) %>% select(ACount_unq, MCount_unq, shared)
dAll.trim
dAll.SAS
dAll.SAS %>%
filter(topic=="M") %>%
write.csv( str_c(outputDir,"MEC_SASpreproc_Marriage.csv"),row.names=F)
dAll.SAS %>%
filter(topic=="G") %>%
write.csv( str_c(outputDir,"MEC_SASpreproc_Gun.csv"),row.names=F)
dAll.SAS %>%
filter(topic=="C") %>%
write.csv( str_c(outputDir,"MEC_SASpreproc_Climate.csv"),row.names=F)
dIdeo.raw <- readRDS(str_c(dataDir,"ideologyFull_SMaPP.rds"))
dAll.Encoded %>%
filter(str_detect(src, "Barack"))
dAll.Encoded %>%
filter(str_detect(src, "Barack")) %>% select(src, src_id)
dIdeo.raw %>% tbl_df() %>% head()
dIdeo.raw %>% tbl_df() %>%
filter(id_str == 813286)
dAll.Encoded %>%
filter(str_detect(src, "Barack")) %>% select(src, src_id, ideology)
library(devtools)
dMFilt
dMFilt %>% filter(user.screen_name  == "BarackObama")
# Create dataframe referencing each topic and path to raw data
topics <- c("M","G","C") #topics="M"
topics_fullName <- c("Same-Sex Marriage", "Gun Control", "Climate Change")
dCollection <- data.frame(topic=topics,topic_full=topics_fullName)
keywords_M <- c("gaymarriage","gay-marriage","gaywedding","gay-wedding","same sex","samesex",
"lovewins","gayrights","marref",
"gay marriage","same sex","gay wedding","gay rights") %>% paste0(collapse="|")
keywords_G <- c("guncontrol","gunviolence","endgunviolence",
"second amendment","2nd amendment","gunlaws",
"gunsense","gunsafety","2A",
"gun culture","gun murders","gun threat","gun offenses","gun crisis","gun reform",
"gun owner","gun owners","gun ownership","gun crime","gun ban","gun smuggling",
"gun confiscation","gun rights","gun deaths","gun violence","gun safety",
"gun laws","gun control") %>% paste0(collapse="|")
keywords_C <- c("climate change","climate","climatechange","global warming","globalwarming") %>%
paste0(collapse="|")
dataDir %>% setwd()
load("C_filt.RData")
outputDir %>% setwd()
load("C_filt.RData")
dCFilt %>% filter(user.screen_name  == "BarackObama")
dCFilt
dAll.Verif_old
dAll.Verif
dAll.Ideo
dAll.Source
dRT0.All
outputDir %>% setwd()
dfName <- str_c("d",t,"Filt")
dfLoad <-  str_c(t,"_filt",".RData")
dClean <- local(get(load(dfLoad)))
dfName <- str_c("d",t,"RT0")
dfLoad <-  str_c(t,"_RTsum",".RData")
dRT0.All <- local(get(load(dfLoad)))
dClean
dSource1 <- dClean %>% mec_collapseMiddlemen()
t="M"
dfName <- str_c("d",t,"Filt")
dfLoad <-  str_c(t,"_filt",".RData")
dClean <- local(get(load(dfLoad)))
dfName <- str_c("d",t,"RT0")
dfLoad <-  str_c(t,"_RTsum",".RData")
dRT0.All <- local(get(load(dfLoad)))
dSource1 <- dClean %>% mec_collapseMiddlemen()
dTrim1 <- dRT0.All %>% filter(grepl("^RT @",text)) %>% mutate(text2=text) %>%
separate(text2,c("t1","t2"),"^RT @") %>%
separate("t2",c("t3","t4")," ") %>%
mutate(RT_username=str_replace(t3,":","")) %>%
select(-t1,-t4,-t3) %>%
mutate(text=str_replace(text,paste0("^RT @",RT_username),""),text=str_replace(text,"^:","")) %>%
rename(middleman=user.screen_name) %>% rename(user.screen_name=RT_username)
dTrim2 <- dRT0.All %>% filter(!twid %in% dTrim1$twid) %>%
bind_rows(dTrim1) %>%
mutate(text=str_replace(text,"^ ","")) %>%
rename(src=user.screen_name)
dSource2 <- dSource1 %>% select(-ACount,-MCount,-negCount:-posRatio) %>%
left_join(dTrim2 %>% select(text,ACount,MCount,negCount:posRatio,twid_first=twid)) %>%
distinct(text,src, .keep_all = TRUE) %>%
ungroup()
dSource3 <- dSource2 %>%
bind_rows(
dClean %>%
filter(!str_detect(text,"^RT @")) %>%
filter(!twid %in% dClean$rtwid) %>%
rename(src=user.screen_name,twid_first=twid) %>%
select(-rtwid,-user.id_str) %>%
mutate(count=0)
)
all.equal(
dSource2 %>% summarise(totalN=sum(count)) %$% totalN,
dClean %>% filter(str_detect(text,"^RT @")) %>% nrow()
) %>% stopifnot()
dSource1
dSource3
dSource3 %>% filter(src == "NOH8Campaign")
dAll.Ideo
dAll.Verif
t="M"
currentTopic <- filter(dCollection,topic==t)$topic_full
dfName <- str_c("d",t,"Filt")
dfLoad <-  str_c(t,"_filt",".RData")
dClean <- local(get(load(dfLoad)))
cat("\n Grabbing user IDs of pre-corpus retweet authors for",currentTopic,". . .")
dRTSrcIDs <- dAll.Ideo %>%
filter(topic==t) %>%
filter(count>0) %>%
left_join(
dAll.rawRTs %>% filter(topic==t) %>%
select(src,rt.user.verified:rt.created) %>%
group_by(src) %>%
summarise(src_id=first(rt.user.id_str),
src_cnt=n())
)
dAll.rawRTs <- readRDS(str_c(dataDir,"allSets_SMaPP_rawRTs.rds"))
dRTSrcIDs <- dAll.Ideo %>%
filter(topic==t) %>%
filter(count>0) %>%
left_join(
dAll.rawRTs %>% filter(topic==t) %>%
select(src,rt.user.verified:rt.created) %>%
group_by(src) %>%
summarise(src_id=first(rt.user.id_str),
src_cnt=n())
)
dRTSrcIDs
dRTSrcIDs %>% filter(src == "NOH8Campaign")
dAll.rawRTs %>% filter(topic==t) %>%
select(src,rt.user.verified:rt.created)
dAll.rawRTs %>% filter(topic==t) %>%
select(src,rt.user.verified:rt.created) %>%
filter(src == "NOH8Campaign")
dAll.rawRTs %>% #filter(topic==t) %>%
select(src,rt.user.verified:rt.created) %>%
filter(src == "BarackObama")
dAll.rawRTs
dMFilt
dMFilt %>%
filter(user.screen_name == "NOH8Campaign")
dCFilt %>%
filter(user.screen_name == "NOH8Campaign")
dAll.rawRTs
dAll.rawRTs %>% View()
dAll.rawRTs
dAll.rawRTs %>% head() %>% View()
dMFilt %>% filter(str_detect(text, "When you about to ask her dad for her hand in"))
t="M"
dataDir %>% setwd()
dRaw <- #tbl_df(read.csv(str_c(t,"_raw.csv"),header=T,sep=",", encoding='UTF-16')) %>%
tbl_df(read.csv(str_c(t,"_raw.csv"),header=T,sep=",", encoding = 'utf-8')) %>%
# mutate(text =  iconv(text, "latin1", "ASCII", "byte")) %>%
# tbl_df(read.csv(str_c(t,"_raw.csv"),header=T,sep=",",encoding = "utf-8")) %>%
rename(twid=id_str,time=timestamp,rtwid=retweeted_status.id_str,
followers=user.followers_count,ACount=AffectCount,MCount=MoralWordsCount,
url=contains.url,media=contains.media) %>%
mutate_each(funs(ifelse(.=="True",1,-1)),media,url) %>%
mutate(text_orig=text,
# Replace special quote characters with blanks
text=str_replace_all(text,"&amp;#8216;|&amp;#8211;|&amp;#8217;|&amp;#039;|&amp;#8230;#|",""),
text=str_replace_all(text,'\u201C|\u201D|\u201E|\u201F|\u2033|\u2036','"'),
text=str_replace_all(text,'\u2018|\u2019|\u201A|\u201B|\u2032|\u2035',"'"),
text=str_replace_all(text,"&amp;","&")
# # Replace problematic emojis with blanks
# text=iconv(text, "latin1", "ASCII", "byte"),
# text=str_replace_all(text,'<f0><9f><94><ab>', '')
)
dMFilt %>% filter(str_detect(char_tolower(text), "when you about to ask her dad for her hand in"))
dRaw %>% filter(str_detect(char_tolower(text), "when you about to ask her dad for her hand in"))
dRaw %>%
filter(user.screen_name == "NOH8Campaign")
dRaw %>% filter(str_detect(char_tolower(text), "when you about to ask her dad for her hand in")) %>% View()
dAll.rawRTs %>% head() %>% View()
dRaw %>%
filter(user.screen_name == "ProteinShaykh")
dAll.rawRTs %>% head() %>% View()
dCFilt
dCFilt %>%
filter(user.screen_name == "ProteinShaykh")
dGFilt
dGFilt %>%
filter(user.screen_name == "ProteinShaykh")
dMFilt %>%
filter(user.screen_name == "ProteinShaykh")
dRaw_M <- dRaw
t="C
dataDir %>% setwd()
dRaw <- #tbl_df(read.csv(str_c(t,"_raw.csv"),header=T,sep=",", encoding='UTF-16')) %>%
tbl_df(read.csv(str_c(t,"_raw.csv"),header=T,sep=",", encoding = 'utf-8')) %>%
# mutate(text =  iconv(text, "latin1", "ASCII", "byte")) %>%
# tbl_df(read.csv(str_c(t,"_raw.csv"),header=T,sep=",",encoding = "utf-8")) %>%
rename(twid=id_str,time=timestamp,rtwid=retweeted_status.id_str,
followers=user.followers_count,ACount=AffectCount,MCount=MoralWordsCount,
url=contains.url,media=contains.media) %>%
mutate_each(funs(ifelse(.=="True",1,-1)),media,url) %>%
mutate(text_orig=text,
# Replace special quote characters with blanks
text=str_replace_all(text,"&amp;#8216;|&amp;#8211;|&amp;#8217;|&amp;#039;|&amp;#8230;#|",""),
text=str_replace_all(text,'\u201C|\u201D|\u201E|\u201F|\u2033|\u2036','"'),
text=str_replace_all(text,'\u2018|\u2019|\u201A|\u201B|\u2032|\u2035',"'"),
text=str_replace_all(text,"&amp;","&")
# # Replace problematic emojis with blanks
# text=iconv(text, "latin1", "ASCII", "byte"),
# text=str_replace_all(text,'<f0><9f><94><ab>', '')
)
dRaw_C %>%
filter(user.screen_name == "ProteinShaykh")
dRaw_C <- dRaw
dRaw_C %>%
filter(user.screen_name == "ProteinShaykh")
t
t="C"
dRaw <- #tbl_df(read.csv(str_c(t,"_raw.csv"),header=T,sep=",", encoding='UTF-16')) %>%
tbl_df(read.csv(str_c(t,"_raw.csv"),header=T,sep=",", encoding = 'utf-8')) %>%
# mutate(text =  iconv(text, "latin1", "ASCII", "byte")) %>%
# tbl_df(read.csv(str_c(t,"_raw.csv"),header=T,sep=",",encoding = "utf-8")) %>%
rename(twid=id_str,time=timestamp,rtwid=retweeted_status.id_str,
followers=user.followers_count,ACount=AffectCount,MCount=MoralWordsCount,
url=contains.url,media=contains.media) %>%
mutate_each(funs(ifelse(.=="True",1,-1)),media,url) %>%
mutate(text_orig=text,
# Replace special quote characters with blanks
text=str_replace_all(text,"&amp;#8216;|&amp;#8211;|&amp;#8217;|&amp;#039;|&amp;#8230;#|",""),
text=str_replace_all(text,'\u201C|\u201D|\u201E|\u201F|\u2033|\u2036','"'),
text=str_replace_all(text,'\u2018|\u2019|\u201A|\u201B|\u2032|\u2035',"'"),
text=str_replace_all(text,"&amp;","&")
# # Replace problematic emojis with blanks
# text=iconv(text, "latin1", "ASCII", "byte"),
# text=str_replace_all(text,'<f0><9f><94><ab>', '')
)
dRaw_C <- dRaw
dRaw_C %>%
filter(user.screen_name == "ProteinShaykh")
dAll.rawRTs
dRaw_M
srcTest <- dAll.rawRTs %>% distinct(user.screen_name, user.id_str = rt.user.id_str)
dT <- dRaw_M %>%
filter(user.screen_name %in% srcTest$user.screen_name)
dT
srcTest
dAll.rawRTs
dAll.rawRTs %>% filter(topic == "M")
dRaw_M
dT_M <- dAll.rawRTs %>% filter(topic == "M")
dT_M
dRaw_M %>%
filter(twid %in% dT_M$twid)
dRaw_M %>%
filter(twid %in% dT_M$twid) %>% head() %>% View()
dT_M %>%
filter(twid %in% dRaw_M$twid) %>% head() %>% View()
dRaw_M %>%
filter(user.screen_name == "SBSNews")
dT_M %>%
filter(rtwid %in% dRaw_M$rtwid) %>% head() %>% View()
dRaw_M %>%
filter(rtwid %in% dT_M$rtwid) %>% head() %>% View()
dRaw_M %>%
filter(user.screen_name == "leonardnsmith")
dT_M %>%
filter(user.screen_name == "leonardnsmith")
dT_M %>%
filter(src == "leonardnsmith")
dT_M
dRaw_M
dT_M
dT_M %>% slice(1:100) %>% mutate(user.id_str = as.numeric(user.id_str))
dT_M <- dAll.rawRTs %>% filter(topic == "M") %>% mutate(user.id_old = user.id_str, user.id_str = as.numeric(user.id_str))
dRaw_M %>%
filter(user.id_str %in% dT_M$user.id_str) %>% head() %>% View()
filter(user.id_str %in% dT_M
dT_M
dT_M
dRaw_M %>%
filter(user.id_str %in% dT_M$rt.user.id_str) %>% head() %>% View()
dRaw_M %>%
filter(user.screen_name == "outvex")
dT_M %>%
filter(user.screen_name == "outvex")
dT_M %>%
filter(rt.user.screen_name == "outvex")
dT_M %>%
filter(src == "outvex")
dRaw_M
dRaw_C %>%
filter(user.id_str  == 813286)
dT_M %>%
filter(src == "outvex")
dRaw_M %>%
filter(user.screen_name == "outvex")
dAll.Encoded %>% filter(src == "outvex")
dAll.Encoded %>% filter(src == "outvex") %>% select(src, src_id, ideology)
dAll.rawRTs
dAll.rawRTs %>% filter(src == "outvex") %>% slice(1) %>% select(src, rt.user.id_str)
dAll.Encoded %>% filter(src == "outvex") %>% select(src, src_id, ideology)
dAll.Encoded %>% filter(src == "outvex") %>% slice(1) %>% select(src, src_id, ideology)
dAll.rawRTs %>% filter(src == "outvex") %>% slice(1) %>% select(src, rt.user.id_str)
dAll.rawRTs %>% filter(src == "BarackObama") %>% slice(1) %>% select(src, rt.user.id_str)
dRaw_M %>% filter(user.screen_name == "outvex") %>% slice(1) %>% select(user.screen_name, user.id_str)
dRaw_M %>% filter(user.screen_name == "outvex") %>% slice(1) %>% select(user.screen_name, user.id_str)
dAll.Encoded %>% filter(src == "outvex") %>% slice(1) %>% select(src, src_id, ideology)
dAll.rawRTs %>% filter(src == "outvex") %>% slice(1) %>% select(src, rt.user.id_str)
dRaw_M %>%
filter(user.id_str %in% dT_M$rt.user.id_str)
dTsrc <- dRaw_M %>%
filter(user.id_str %in% dT_M$rt.user.id_str)
dTsrc
dTsrc <- dRaw_M %>%
filter(user.id_str %in% dT_M$rt.user.id_str) %>% distinct(user.id_str) #%>%head() %>% View()
dTsrc
dTsrc <- dRaw_M %>%
filter(user.id_str %in% dT_M$rt.user.id_str) %>% distinct(user.id_str, .keep_all=T) #%>%head() %>% View()
dTsrc
dAll.Encoded %>% filter(src_id %in% dTsrc$user.id_str)
dTsrc
dAll.Encoded %>% filter(src_id %in% dTsrc$user.id_str) %>% select(count, src, src_id, ideology)
dAll.Encoded %>% filter(src_id %in% dTsrc$user.id_str) %>% select(count, src, src_id, ideology, topic)
dRaw_M %>% filter(user.screen_name == "iowahawkblog") %>% slice(1) %>% select(user.screen_name, user.id_str)
dAll.Encoded %>% filter(src == "iowahawkblog") %>% slice(1) %>% select(src, src_id, ideology)
dAll.rawRTs %>% filter(src == "iowahawkblog") %>% slice(1) %>% select(src, rt.user.id_str)
dRaw_M %>% filter(user.screen_name == "LOLGOP") %>% slice(1) %>% select(user.screen_name, user.id_str)
dAll.Encoded %>% filter(src == "LOLGOP") %>% slice(1) %>% select(src, src_id, ideology)
dAll.rawRTs %>% filter(src == "LOLGOP") %>% slice(1) %>% select(src, rt.user.id_str)
allSets_SMaPP_rawRTs <- readRDS("C:/Users/agust/Documents/SEDS/SS_Social_Media/Project papers/P1/Raw Data/allSets_SMaPP_rawRTs.rds")
setwd("c:/Users/agust/Documents/SEDS/SS_Social_Media/Project papers/P1/Raw Data")
file_paper <- readRDS("ideologyFull_SMaPP.rds")
file_paper2 <- readRDS("allSets_SMaPP_rawRTs.rds")
rm(allSets_SMaPP_rawRTs )
View(file_paper)
View(file_paper2)
setwd("c:/Users/agust/Documents/SEDS/SS_Social_Media/Project papers/P1/Cleaned Data")
setwd("c:/Users/agust/Documents/SEDS/SS_Social_Media/Project papers/P1/Cleaned Data")
#Cleaned Data
MEC_SASpreproc_Climate <- read.csv("MEC_SASpreproc_Climate.csv")
C_MEC_SASpreproc <- read.csv("MEC_SASpreproc_Climate.csv")
G_MEC_SASpreproc <- read.csv("MEC_SASpreproc_Gun.csv")
M_MEC_SASpreproc <- read.csv("MEC_SASpreproc_Marriage.csv")
nrow(C_MEC_SASpreproc) + nrow(C_MEC_SASpreproc) + nrow(C_MEC_SASpreproc)
allSets_GEE_ingroup <- readRDS("allSets_GEE_ingroup.rds")
View(allSets_GEE_ingroup)
827+141
dt2 <- unique(allSets_GEE_ingroup, by = "twid_first")
View(dt2)
df2 <- unique( allSets_GEE_ingroup[ , c('twid_first') ] )
df2 <- unique(allSets_GEE_ingroup[ , c('count_old') ] )
df2 <- allSets_GEE_ingroup %>% distinct(twid_first, .keep_all = TRUE)
library(dplyr)
df2 <- allSets_GEE_ingroup %>% distinct(twid_first, .keep_all = TRUE)
rm(dt2)
View(df2)
table(df2$topic)
emove duplicates on specific column
#Remove duplicates on specific column
distinct_GEE_ingroup <- allSets_GEE_ingroup %>%
distinct(twid_first, .keep_all = TRUE)
table(distinct_GEE_ingroup$topic)
table(allSets_SMaPP_rawRTs$topic)
####### Raw data #######
ideologyFull_SMaPP <- readRDS("ideologyFull_SMaPP.rds")
setwd("c:/Users/agust/Documents/SEDS/SS_Social_Media/Project papers/P1/Raw Data")
ideologyFull_SMaPP <- readRDS("ideologyFull_SMaPP.rds")
View(ideologyFull_SMaPP)
allSets_SMaPP_rawRTs <- readRDS("allSets_SMaPP_rawRTs.rds")
View(allSets_SMaPP_rawRTs)
table(allSets_SMaPP_rawRTs$topic)
table(allSets_SMaPP_rawRTs$topic)
table(ideologyFull_SMaPP$topic)
C_MEC_SAS_ingroup <- read.csv("MEC_SAS_ingroup_Climate.csv")
setwd("c:/Users/agust/Documents/SEDS/SS_Social_Media/Project papers/P1/Cleaned Data")
C_MEC_SAS_ingroup <- read.csv("MEC_SAS_ingroup_Climate.csv")
G_MEC_SAS_ingroup <- read.csv("MEC_SAS_ingroup_Gun.csv")
M_MEC_SAS_ingroup <- read.csv("MEC_SAS_ingroup_Marriage.csv")
nrow(C_MEC_SAS_ingroup) + nrow(G_MEC_SAS_ingroup) + nrow(M_MEC_SAS_ingroup)
